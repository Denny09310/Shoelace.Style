/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@shoelace-style/shoelace@2.17.1/cdn/chunks/chunk.NFBMJAJT.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{clamp}from"./chunk.HF7GESMZ.js";import{AutoplayController}from"./chunk.F4VGSDIW.js";import{carousel_styles_default}from"./chunk.HUJPN4KF.js";import{waitForEvent}from"./chunk.B4BZKR24.js";import{prefersReducedMotion}from"./chunk.RV6ECJES.js";import{LocalizeController}from"./chunk.NH3SRVOC.js";import{e}from"./chunk.UZVKBFXH.js";import{SlIcon}from"./chunk.Y7EP3V6G.js";import{watch}from"./chunk.SJGTYGCD.js";import{component_styles_default}from"./chunk.K23QWHWK.js";import{ShoelaceElement,e as e2,n,r,t}from"./chunk.UQRBALDC.js";import{x}from"./chunk.CXZZ2LVK.js";import{__decorateClass}from"./chunk.625AWUY7.js";function*o(e,t){if(void 0!==e){let o=0;for(const s of e)yield t(s,o++)}}function*o2(e,t,o=1){const s=void 0===t?0:e;null!=t||(t=e);for(let e=s;o>0?e<t:t<e;e+=o)yield e}var SlCarousel=class extends ShoelaceElement{constructor(){super(...arguments),this.loop=!1,this.navigation=!1,this.pagination=!1,this.autoplay=!1,this.autoplayInterval=3e3,this.slidesPerPage=1,this.slidesPerMove=1,this.orientation="horizontal",this.mouseDragging=!1,this.activeSlide=0,this.scrolling=!1,this.dragging=!1,this.autoplayController=new AutoplayController(this,(()=>this.next())),this.localize=new LocalizeController(this),this.handleMouseDrag=e=>{this.dragging||(this.scrollContainer.style.setProperty("scroll-snap-type","none"),this.dragging=!0),this.scrollContainer.scrollBy({left:-e.movementX,top:-e.movementY,behavior:"instant"})},this.handleMouseDragEnd=()=>{const e=this.scrollContainer;document.removeEventListener("pointermove",this.handleMouseDrag,{capture:!0});const t=e.scrollLeft,o=e.scrollTop;e.style.removeProperty("scroll-snap-type"),e.style.setProperty("overflow","hidden");const s=e.scrollLeft,i=e.scrollTop;e.style.removeProperty("overflow"),e.style.setProperty("scroll-snap-type","none"),e.scrollTo({left:t,top:o,behavior:"instant"}),requestAnimationFrame((async()=>{t===s&&o===i||(e.scrollTo({left:s,top:i,behavior:prefersReducedMotion()?"auto":"smooth"}),await waitForEvent(e,"scrollend")),e.style.removeProperty("scroll-snap-type"),this.dragging=!1,this.handleScrollEnd()}))},this.handleSlotChange=e=>{e.some((e=>[...e.addedNodes,...e.removedNodes].some((e=>this.isCarouselItem(e)&&!e.hasAttribute("data-clone")))))&&this.initializeSlides(),this.requestUpdate()}}connectedCallback(){super.connectedCallback(),this.setAttribute("role","region"),this.setAttribute("aria-label",this.localize.term("carousel"))}disconnectedCallback(){var e;super.disconnectedCallback(),null==(e=this.mutationObserver)||e.disconnect()}firstUpdated(){this.initializeSlides(),this.mutationObserver=new MutationObserver(this.handleSlotChange),this.mutationObserver.observe(this,{childList:!0,subtree:!0})}willUpdate(e){(e.has("slidesPerMove")||e.has("slidesPerPage"))&&(this.slidesPerMove=Math.min(this.slidesPerMove,this.slidesPerPage))}getPageCount(){const e=this.getSlides().length,{slidesPerPage:t,slidesPerMove:o,loop:s}=this,i=s?e/o:(e-t)/o+1;return Math.ceil(i)}getCurrentPage(){return Math.ceil(this.activeSlide/this.slidesPerMove)}canScrollNext(){return this.loop||this.getCurrentPage()<this.getPageCount()-1}canScrollPrev(){return this.loop||this.getCurrentPage()>0}getSlides({excludeClones:e=!0}={}){return[...this.children].filter((t=>this.isCarouselItem(t)&&(!e||!t.hasAttribute("data-clone"))))}handleKeyDown(e){if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e.key)){const t=e.target,o=this.matches(":dir(rtl)"),s=null!==t.closest('[part~="pagination-item"]'),i="ArrowDown"===e.key||!o&&"ArrowRight"===e.key||o&&"ArrowLeft"===e.key,l="ArrowUp"===e.key||!o&&"ArrowLeft"===e.key||o&&"ArrowRight"===e.key;e.preventDefault(),l&&this.previous(),i&&this.next(),"Home"===e.key&&this.goToSlide(0),"End"===e.key&&this.goToSlide(this.getSlides().length-1),s&&this.updateComplete.then((()=>{var e;const t=null==(e=this.shadowRoot)?void 0:e.querySelector('[part~="pagination-item--active"]');t&&t.focus()}))}}handleMouseDragStart(e){this.mouseDragging&&0===e.button&&(e.preventDefault(),document.addEventListener("pointermove",this.handleMouseDrag,{capture:!0,passive:!0}),document.addEventListener("pointerup",this.handleMouseDragEnd,{capture:!0,once:!0}))}handleScroll(){this.scrolling=!0}synchronizeSlides(){const e=new IntersectionObserver((t=>{e.disconnect();for(const e of t){const t=e.target;t.toggleAttribute("inert",!e.isIntersecting),t.classList.toggle("--in-view",e.isIntersecting),t.setAttribute("aria-hidden",e.isIntersecting?"false":"true")}const o=t.find((e=>e.isIntersecting));if(o)if(this.loop&&o.target.hasAttribute("data-clone")){const e=Number(o.target.getAttribute("data-clone"));this.goToSlide(e,"instant")}else{const e=this.getSlides().indexOf(o.target);this.activeSlide=Math.ceil(e/this.slidesPerMove)*this.slidesPerMove}}),{root:this.scrollContainer,threshold:.6});this.getSlides({excludeClones:!1}).forEach((t=>{e.observe(t)}))}handleScrollEnd(){this.scrolling&&!this.dragging&&(this.synchronizeSlides(),this.scrolling=!1)}isCarouselItem(e){return e instanceof Element&&"sl-carousel-item"===e.tagName.toLowerCase()}initializeSlides(){this.getSlides({excludeClones:!1}).forEach(((e,t)=>{e.classList.remove("--in-view"),e.classList.remove("--is-active"),e.setAttribute("aria-label",this.localize.term("slideNum",t+1)),e.hasAttribute("data-clone")&&e.remove()})),this.updateSlidesSnap(),this.loop&&this.createClones(),this.synchronizeSlides(),this.goToSlide(this.activeSlide,"auto")}createClones(){const e=this.getSlides(),t=this.slidesPerPage,o=e.slice(-t),s=e.slice(0,t);o.reverse().forEach(((t,o)=>{const s=t.cloneNode(!0);s.setAttribute("data-clone",String(e.length-o-1)),this.prepend(s)})),s.forEach(((e,t)=>{const o=e.cloneNode(!0);o.setAttribute("data-clone",String(t)),this.append(o)}))}handelSlideChange(){const e=this.getSlides();e.forEach(((e,t)=>{e.classList.toggle("--is-active",t===this.activeSlide)})),this.hasUpdated&&this.emit("sl-slide-change",{detail:{index:this.activeSlide,slide:e[this.activeSlide]}})}updateSlidesSnap(){const e=this.getSlides(),t=this.slidesPerMove;e.forEach(((e,o)=>{(o+t)%t==0?e.style.removeProperty("scroll-snap-align"):e.style.setProperty("scroll-snap-align","none")}))}handleAutoplayChange(){this.autoplayController.stop(),this.autoplay&&this.autoplayController.start(this.autoplayInterval)}previous(e="smooth"){this.goToSlide(this.activeSlide-this.slidesPerMove,e)}next(e="smooth"){this.goToSlide(this.activeSlide+this.slidesPerMove,e)}goToSlide(e,t="smooth"){const{slidesPerPage:o,loop:s}=this,i=this.getSlides(),l=this.getSlides({excludeClones:!1});if(!i.length)return;const a=s?(e+i.length)%i.length:clamp(e,0,i.length-o);this.activeSlide=a;const r=this.matches(":dir(rtl)"),n=l[clamp(e+(s?o:0)+(r?o-1:0),0,l.length-1)];this.scrollToSlide(n,prefersReducedMotion()?"auto":t)}scrollToSlide(e,t="smooth"){const o=this.scrollContainer,s=o.getBoundingClientRect(),i=e.getBoundingClientRect(),l=i.left-s.left,a=i.top-s.top;o.scrollTo({left:l+o.scrollLeft,top:a+o.scrollTop,behavior:t})}render(){const{slidesPerMove:t,scrolling:s}=this,i=this.getPageCount(),l=this.getCurrentPage(),a=this.canScrollPrev(),r=this.canScrollNext(),n=this.matches(":dir(ltr)");return x`
      <div part="base" class="carousel">
        <div
          id="scroll-container"
          part="scroll-container"
          class="${e({carousel__slides:!0,"carousel__slides--horizontal":"horizontal"===this.orientation,"carousel__slides--vertical":"vertical"===this.orientation,"carousel__slides--dragging":this.dragging})}"
          style="--slides-per-page: ${this.slidesPerPage};"
          aria-busy="${s?"true":"false"}"
          aria-atomic="true"
          tabindex="0"
          @keydown=${this.handleKeyDown}
          @mousedown="${this.handleMouseDragStart}"
          @scroll="${this.handleScroll}"
          @scrollend=${this.handleScrollEnd}
        >
          <slot></slot>
        </div>

        ${this.navigation?x`
              <div part="navigation" class="carousel__navigation">
                <button
                  part="navigation-button navigation-button--previous"
                  class="${e({"carousel__navigation-button":!0,"carousel__navigation-button--previous":!0,"carousel__navigation-button--disabled":!a})}"
                  aria-label="${this.localize.term("previousSlide")}"
                  aria-controls="scroll-container"
                  aria-disabled="${a?"false":"true"}"
                  @click=${a?()=>this.previous():null}
                >
                  <slot name="previous-icon">
                    <sl-icon library="system" name="${n?"chevron-left":"chevron-right"}"></sl-icon>
                  </slot>
                </button>

                <button
                  part="navigation-button navigation-button--next"
                  class=${e({"carousel__navigation-button":!0,"carousel__navigation-button--next":!0,"carousel__navigation-button--disabled":!r})}
                  aria-label="${this.localize.term("nextSlide")}"
                  aria-controls="scroll-container"
                  aria-disabled="${r?"false":"true"}"
                  @click=${r?()=>this.next():null}
                >
                  <slot name="next-icon">
                    <sl-icon library="system" name="${n?"chevron-right":"chevron-left"}"></sl-icon>
                  </slot>
                </button>
              </div>
            `:""}
        ${this.pagination?x`
              <div part="pagination" role="tablist" class="carousel__pagination" aria-controls="scroll-container">
                ${o(o2(i),(o=>{const s=o===l;return x`
                    <button
                      part="pagination-item ${s?"pagination-item--active":""}"
                      class="${e({"carousel__pagination-item":!0,"carousel__pagination-item--active":s})}"
                      role="tab"
                      aria-selected="${s?"true":"false"}"
                      aria-label="${this.localize.term("goToSlide",o+1,i)}"
                      tabindex=${s?"0":"-1"}
                      @click=${()=>this.goToSlide(o*t)}
                      @keydown=${this.handleKeyDown}
                    ></button>
                  `}))}
              </div>
            `:""}
      </div>
    `}};SlCarousel.styles=[component_styles_default,carousel_styles_default],SlCarousel.dependencies={"sl-icon":SlIcon},__decorateClass([n({type:Boolean,reflect:!0})],SlCarousel.prototype,"loop",2),__decorateClass([n({type:Boolean,reflect:!0})],SlCarousel.prototype,"navigation",2),__decorateClass([n({type:Boolean,reflect:!0})],SlCarousel.prototype,"pagination",2),__decorateClass([n({type:Boolean,reflect:!0})],SlCarousel.prototype,"autoplay",2),__decorateClass([n({type:Number,attribute:"autoplay-interval"})],SlCarousel.prototype,"autoplayInterval",2),__decorateClass([n({type:Number,attribute:"slides-per-page"})],SlCarousel.prototype,"slidesPerPage",2),__decorateClass([n({type:Number,attribute:"slides-per-move"})],SlCarousel.prototype,"slidesPerMove",2),__decorateClass([n()],SlCarousel.prototype,"orientation",2),__decorateClass([n({type:Boolean,reflect:!0,attribute:"mouse-dragging"})],SlCarousel.prototype,"mouseDragging",2),__decorateClass([e2(".carousel__slides")],SlCarousel.prototype,"scrollContainer",2),__decorateClass([e2(".carousel__pagination")],SlCarousel.prototype,"paginationContainer",2),__decorateClass([r()],SlCarousel.prototype,"activeSlide",2),__decorateClass([r()],SlCarousel.prototype,"scrolling",2),__decorateClass([r()],SlCarousel.prototype,"dragging",2),__decorateClass([t({passive:!0})],SlCarousel.prototype,"handleScroll",1),__decorateClass([watch("loop",{waitUntilFirstUpdate:!0}),watch("slidesPerPage",{waitUntilFirstUpdate:!0})],SlCarousel.prototype,"initializeSlides",1),__decorateClass([watch("activeSlide")],SlCarousel.prototype,"handelSlideChange",1),__decorateClass([watch("slidesPerMove")],SlCarousel.prototype,"updateSlidesSnap",1),__decorateClass([watch("autoplay")],SlCarousel.prototype,"handleAutoplayChange",1);export{SlCarousel};
/*! Bundled license information:

lit-html/directives/map.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/range.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
//# sourceMappingURL=/sm/c5964fe3c5a94915ae631154ead89c3e0cdca7b68281d48ce5c3182f2a909210.map