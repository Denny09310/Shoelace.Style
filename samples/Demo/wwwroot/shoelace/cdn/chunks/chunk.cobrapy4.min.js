/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/@shoelace-style/shoelace@2.19.1/cdn/chunks/chunk.COBRAPY4.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{popup_styles_default}from"./chunk.Z3B46XM3.js";import{e}from"./chunk.3RBSSBZT.js";import{LocalizeController}from"./chunk.2SU6QBUU.js";import{component_styles_default}from"./chunk.INZSKSLC.js";import{ShoelaceElement,e as e2,n}from"./chunk.I3G2R3VD.js";import{x}from"./chunk.OOP2EFQH.js";import{__decorateClass,__objRest,__spreadProps,__spreadValues}from"./chunk.W27M6RDR.js";var min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=t=>({x:t,y:t}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(t,e,o){return max(t,min(e,o))}function evaluate(t,e){return"function"==typeof t?t(e):t}function getSide(t){return t.split("-")[0]}function getAlignment(t){return t.split("-")[1]}function getOppositeAxis(t){return"x"===t?"y":"x"}function getAxisLength(t){return"y"===t?"height":"width"}function getSideAxis(t){return["top","bottom"].includes(getSide(t))?"y":"x"}function getAlignmentAxis(t){return getOppositeAxis(getSideAxis(t))}function getAlignmentSides(t,e,o){void 0===o&&(o=!1);const n=getAlignment(t),i=getAlignmentAxis(t),r=getAxisLength(i);let s="x"===i?n===(o?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=getOppositePlacement(s)),[s,getOppositePlacement(s)]}function getExpandedPlacements(t){const e=getOppositePlacement(t);return[getOppositeAlignmentPlacement(t),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(t){return t.replace(/start|end/g,(t=>oppositeAlignmentMap[t]))}function getSideList(t,e,o){const n=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?r:s;default:return[]}}function getOppositeAxisPlacements(t,e,o,n){const i=getAlignment(t);let r=getSideList(getSide(t),"start"===o,n);return i&&(r=r.map((t=>t+"-"+i)),e&&(r=r.concat(r.map(getOppositeAlignmentPlacement)))),r}function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,(t=>oppositeSideMap[t]))}function expandPaddingObject(t){return __spreadValues({top:0,right:0,bottom:0,left:0},t)}function getPaddingObject(t){return"number"!=typeof t?expandPaddingObject(t):{top:t,right:t,bottom:t,left:t}}function rectToClientRect(t){const{x:e,y:o,width:n,height:i}=t;return{width:n,height:i,top:o,left:e,right:e+n,bottom:o+i,x:e,y:o}}function computeCoordsFromPlacement(t,e,o){let{reference:n,floating:i}=t;const r=getSideAxis(e),s=getAlignmentAxis(e),a=getAxisLength(s),l=getSide(e),c="y"===r,p=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,u=n[a]/2-i[a]/2;let f;switch(l){case"top":f={x:p,y:n.y-i.height};break;case"bottom":f={x:p,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(getAlignment(e)){case"start":f[s]-=u*(o&&c?-1:1);break;case"end":f[s]+=u*(o&&c?-1:1)}return f}var computePosition=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:s}=o,a=r.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:d}=computeCoordsFromPlacement(c,n,l),u=n,f={},g=0;for(let o=0;o<a.length;o++){const{name:r,fn:h}=a[o],{x:m,y:y,data:w,reset:v}=await h({x:p,y:d,initialPlacement:n,placement:u,strategy:i,middlewareData:f,rects:c,platform:s,elements:{reference:t,floating:e}});p=null!=m?m:p,d=null!=y?y:d,f=__spreadProps(__spreadValues({},f),{[r]:__spreadValues(__spreadValues({},f[r]),w)}),v&&g<=50&&(g++,"object"==typeof v&&(v.placement&&(u=v.placement),v.rects&&(c=!0===v.rects?await s.getElementRects({reference:t,floating:e,strategy:i}):v.rects),({x:p,y:d}=computeCoordsFromPlacement(c,u,l))),o=-1)}return{x:p,y:d,placement:u,strategy:i,middlewareData:f}};async function detectOverflow(t,e){var o;void 0===e&&(e={});const{x:n,y:i,platform:r,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:p="viewport",elementContext:d="floating",altBoundary:u=!1,padding:f=0}=evaluate(e,t),g=getPaddingObject(f),h=a[u?"floating"===d?"reference":"floating":d],m=rectToClientRect(await r.getClippingRect({element:null==(o=await(null==r.isElement?void 0:r.isElement(h)))||o?h:h.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(a.floating)),boundary:c,rootBoundary:p,strategy:l})),y="floating"===d?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(null==r.getOffsetParent?void 0:r.getOffsetParent(a.floating)),v=await(null==r.isElement?void 0:r.isElement(w))&&await(null==r.getScale?void 0:r.getScale(w))||{x:1,y:1},b=rectToClientRect(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(m.top-b.top+g.top)/v.y,bottom:(b.bottom-m.bottom+g.bottom)/v.y,left:(m.left-b.left+g.left)/v.x,right:(b.right-m.right+g.right)/v.x}}var arrow=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:i,rects:r,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:p=0}=evaluate(t,e)||{};if(null==c)return{};const d=getPaddingObject(p),u={x:o,y:n},f=getAlignmentAxis(i),g=getAxisLength(f),h=await s.getDimensions(c),m="y"===f,y=m?"top":"left",w=m?"bottom":"right",v=m?"clientHeight":"clientWidth",b=r.reference[g]+r.reference[f]-u[f]-r.floating[g],x=u[f]-r.reference[f],P=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let S=P?P[v]:0;S&&await(null==s.isElement?void 0:s.isElement(P))||(S=a.floating[v]||r.floating[g]);const C=b/2-x/2,_=S/2-h[g]/2-1,E=min(d[y],_),A=min(d[w],_),R=E,O=S-h[g]-A,T=S/2-h[g]/2+C,L=clamp(R,T,O),N=!l.arrow&&null!=getAlignment(i)&&T!==L&&r.reference[g]/2-(T<R?E:A)-h[g]/2<0,B=N?T<R?T-R:T-O:0;return{[f]:u[f]+B,data:__spreadValues({[f]:L,centerOffset:T-L-B},N&&{alignmentOffset:B}),reset:N}}}),flip=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:r,rects:s,initialPlacement:a,platform:l,elements:c}=e,p=evaluate(t,e),{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0}=p,y=__objRest(p,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if(null!=(o=r.arrow)&&o.alignmentOffset)return{};const w=getSide(i),v=getSideAxis(a),b=getSide(a)===a,x=await(null==l.isRTL?void 0:l.isRTL(c.floating)),P=f||(b||!m?[getOppositePlacement(a)]:getExpandedPlacements(a)),S="none"!==h;!f&&S&&P.push(...getOppositeAxisPlacements(a,m,h,x));const C=[a,...P],_=await detectOverflow(e,y),E=[];let A=(null==(n=r.flip)?void 0:n.overflows)||[];if(d&&E.push(_[w]),u){const t=getAlignmentSides(i,s,x);E.push(_[t[0]],_[t[1]])}if(A=[...A,{placement:i,overflows:E}],!E.every((t=>t<=0))){var R,O;const t=((null==(R=r.flip)?void 0:R.index)||0)+1,e=C[t];if(e)return{data:{index:t,overflows:A},reset:{placement:e}};let o=null==(O=A.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:O.placement;if(!o)switch(g){case"bestFit":{var T;const t=null==(T=A.filter((t=>{if(S){const e=getSideAxis(t.placement);return e===v||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:T[0];t&&(o=t);break}case"initialPlacement":o=a}if(i!==o)return{reset:{placement:o}}}return{}}}};async function convertValueToCoords(t,e){const{placement:o,platform:n,elements:i}=t,r=await(null==n.isRTL?void 0:n.isRTL(i.floating)),s=getSide(o),a=getAlignment(o),l="y"===getSideAxis(o),c=["left","top"].includes(s)?-1:1,p=r&&l?-1:1,d=evaluate(e,t);let{mainAxis:u,crossAxis:f,alignmentAxis:g}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof g&&(f="end"===a?-1*g:g),l?{x:f*p,y:u*c}:{x:u*c,y:f*p}}var offset=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:s,middlewareData:a}=e,l=await convertValueToCoords(e,t);return s===(null==(o=a.offset)?void 0:o.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:r+l.y,data:__spreadProps(__spreadValues({},l),{placement:s})}}}},shift=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:i}=e,r=evaluate(t,e),{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:t=>{let{x:e,y:o}=t;return{x:e,y:o}}}}=r,c=__objRest(r,["mainAxis","crossAxis","limiter"]),p={x:o,y:n},d=await detectOverflow(e,c),u=getSideAxis(getSide(i)),f=getOppositeAxis(u);let g=p[f],h=p[u];if(s){const t="y"===f?"bottom":"right";g=clamp(g+d["y"===f?"top":"left"],g,g-d[t])}if(a){const t="y"===u?"bottom":"right";h=clamp(h+d["y"===u?"top":"left"],h,h-d[t])}const m=l.fn(__spreadProps(__spreadValues({},e),{[f]:g,[u]:h}));return __spreadProps(__spreadValues({},m),{data:{x:m.x-o,y:m.y-n,enabled:{[f]:s,[u]:a}}})}}},size=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){var o,n;const{placement:i,rects:r,platform:s,elements:a}=e,l=evaluate(t,e),{apply:c=()=>{}}=l,p=__objRest(l,["apply"]),d=await detectOverflow(e,p),u=getSide(i),f=getAlignment(i),g="y"===getSideAxis(i),{width:h,height:m}=r.floating;let y,w;"top"===u||"bottom"===u?(y=u,w=f===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(w=u,y="end"===f?"top":"bottom");const v=m-d.top-d.bottom,b=h-d.left-d.right,x=min(m-d[y],v),P=min(h-d[w],b),S=!e.middlewareData.shift;let C=x,_=P;if(null!=(o=e.middlewareData.shift)&&o.enabled.x&&(_=b),null!=(n=e.middlewareData.shift)&&n.enabled.y&&(C=v),S&&!f){const t=max(d.left,0),e=max(d.right,0),o=max(d.top,0),n=max(d.bottom,0);g?_=h-2*(0!==t||0!==e?t+e:max(d.left,d.right)):C=m-2*(0!==o||0!==n?o+n:max(d.top,d.bottom))}await c(__spreadProps(__spreadValues({},e),{availableWidth:_,availableHeight:C}));const E=await s.getDimensions(a.floating);return h!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return"undefined"!=typeof window}function getNodeName(t){return isNode(t)?(t.nodeName||"").toLowerCase():"#document"}function getWindow(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function getDocumentElement(t){var e;return null==(e=(isNode(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function isNode(t){return!!hasWindow()&&(t instanceof Node||t instanceof getWindow(t).Node)}function isElement(t){return!!hasWindow()&&(t instanceof Element||t instanceof getWindow(t).Element)}function isHTMLElement(t){return!!hasWindow()&&(t instanceof HTMLElement||t instanceof getWindow(t).HTMLElement)}function isShadowRoot(t){return!(!hasWindow()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof getWindow(t).ShadowRoot)}function isOverflowElement(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=getComputedStyle2(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function isTableElement(t){return["table","td","th"].includes(getNodeName(t))}function isTopLayer(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch(t){return!1}}))}function isContainingBlock(t){const e=isWebKit(),o=isElement(t)?getComputedStyle2(t):t;return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!e&&!!o.backdropFilter&&"none"!==o.backdropFilter||!e&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((t=>(o.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(o.contain||"").includes(t)))}function getContainingBlock(t){let e=getParentNode(t);for(;isHTMLElement(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;if(isTopLayer(e))return null;e=getParentNode(e)}return null}function isWebKit(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(t){return["html","body","#document"].includes(getNodeName(t))}function getComputedStyle2(t){return getWindow(t).getComputedStyle(t)}function getNodeScroll(t){return isElement(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function getParentNode(t){if("html"===getNodeName(t))return t;const e=t.assignedSlot||t.parentNode||isShadowRoot(t)&&t.host||getDocumentElement(t);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(t){const e=getParentNode(t);return isLastTraversableNode(e)?t.ownerDocument?t.ownerDocument.body:t.body:isHTMLElement(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(t,e,o){var n;void 0===e&&(e=[]),void 0===o&&(o=!0);const i=getNearestOverflowAncestor(t),r=i===(null==(n=t.ownerDocument)?void 0:n.body),s=getWindow(i);if(r){const t=getFrameElement(s);return e.concat(s,s.visualViewport||[],isOverflowElement(i)?i:[],t&&o?getOverflowAncestors(t):[])}return e.concat(i,getOverflowAncestors(i,[],o))}function getFrameElement(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function getCssDimensions(t){const e=getComputedStyle2(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=isHTMLElement(t),r=i?t.offsetWidth:o,s=i?t.offsetHeight:n,a=round(o)!==r||round(n)!==s;return a&&(o=r,n=s),{width:o,height:n,$:a}}function unwrapElement(t){return isElement(t)?t:t.contextElement}function getScale(t){const e=unwrapElement(t);if(!isHTMLElement(e))return createCoords(1);const o=e.getBoundingClientRect(),{width:n,height:i,$:r}=getCssDimensions(e);let s=(r?round(o.width):o.width)/n,a=(r?round(o.height):o.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}var noOffsets=createCoords(0);function getVisualOffsets(t){const e=getWindow(t);return isWebKit()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:noOffsets}function shouldAddVisualOffsets(t,e,o){return void 0===e&&(e=!1),!(!o||e&&o!==getWindow(t))&&e}function getBoundingClientRect(t,e,o,n){void 0===e&&(e=!1),void 0===o&&(o=!1);const i=t.getBoundingClientRect(),r=unwrapElement(t);let s=createCoords(1);e&&(n?isElement(n)&&(s=getScale(n)):s=getScale(t));const a=shouldAddVisualOffsets(r,o,n)?getVisualOffsets(r):createCoords(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,p=i.width/s.x,d=i.height/s.y;if(r){const t=getWindow(r),e=n&&isElement(n)?getWindow(n):n;let o=t,i=getFrameElement(o);for(;i&&n&&e!==o;){const t=getScale(i),e=i.getBoundingClientRect(),n=getComputedStyle2(i),r=e.left+(i.clientLeft+parseFloat(n.paddingLeft))*t.x,s=e.top+(i.clientTop+parseFloat(n.paddingTop))*t.y;l*=t.x,c*=t.y,p*=t.x,d*=t.y,l+=r,c+=s,o=getWindow(i),i=getFrameElement(o)}}return rectToClientRect({width:p,height:d,x:l,y:c})}function getWindowScrollBarX(t,e){const o=getNodeScroll(t).scrollLeft;return e?e.left+o:getBoundingClientRect(getDocumentElement(t)).left+o}function getHTMLOffset(t,e,o){void 0===o&&(o=!1);const n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-(o?0:getWindowScrollBarX(t,n)),y:n.top+e.scrollTop}}function convertOffsetParentRelativeRectToViewportRelativeRect(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t;const r="fixed"===i,s=getDocumentElement(n),a=!!e&&isTopLayer(e.floating);if(n===s||a&&r)return o;let l={scrollLeft:0,scrollTop:0},c=createCoords(1);const p=createCoords(0),d=isHTMLElement(n);if((d||!d&&!r)&&(("body"!==getNodeName(n)||isOverflowElement(s))&&(l=getNodeScroll(n)),isHTMLElement(n))){const t=getBoundingClientRect(n);c=getScale(n),p.x=t.x+n.clientLeft,p.y=t.y+n.clientTop}const u=!s||d||r?createCoords(0):getHTMLOffset(s,l,!0);return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-l.scrollLeft*c.x+p.x+u.x,y:o.y*c.y-l.scrollTop*c.y+p.y+u.y}}function getClientRects(t){return Array.from(t.getClientRects())}function getDocumentRect(t){const e=getDocumentElement(t),o=getNodeScroll(t),n=t.ownerDocument.body,i=max(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=max(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-o.scrollLeft+getWindowScrollBarX(t);const a=-o.scrollTop;return"rtl"===getComputedStyle2(n).direction&&(s+=max(e.clientWidth,n.clientWidth)-i),{width:i,height:r,x:s,y:a}}function getViewportRect(t,e){const o=getWindow(t),n=getDocumentElement(t),i=o.visualViewport;let r=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){r=i.width,s=i.height;const t=isWebKit();(!t||t&&"fixed"===e)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:r,height:s,x:a,y:l}}function getInnerBoundingClientRect(t,e){const o=getBoundingClientRect(t,!0,"fixed"===e),n=o.top+t.clientTop,i=o.left+t.clientLeft,r=isHTMLElement(t)?getScale(t):createCoords(1);return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:i*r.x,y:n*r.y}}function getClientRectFromClippingAncestor(t,e,o){let n;if("viewport"===e)n=getViewportRect(t,o);else if("document"===e)n=getDocumentRect(getDocumentElement(t));else if(isElement(e))n=getInnerBoundingClientRect(e,o);else{const o=getVisualOffsets(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return rectToClientRect(n)}function hasFixedPositionAncestor(t,e){const o=getParentNode(t);return!(o===e||!isElement(o)||isLastTraversableNode(o))&&("fixed"===getComputedStyle2(o).position||hasFixedPositionAncestor(o,e))}function getClippingElementAncestors(t,e){const o=e.get(t);if(o)return o;let n=getOverflowAncestors(t,[],!1).filter((t=>isElement(t)&&"body"!==getNodeName(t))),i=null;const r="fixed"===getComputedStyle2(t).position;let s=r?getParentNode(t):t;for(;isElement(s)&&!isLastTraversableNode(s);){const e=getComputedStyle2(s),o=isContainingBlock(s);o||"fixed"!==e.position||(i=null);(r?!o&&!i:!o&&"static"===e.position&&!!i&&["absolute","fixed"].includes(i.position)||isOverflowElement(s)&&!o&&hasFixedPositionAncestor(t,s))?n=n.filter((t=>t!==s)):i=e,s=getParentNode(s)}return e.set(t,n),n}function getClippingRect(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const r=[..."clippingAncestors"===o?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(o),n],s=r[0],a=r.reduce(((t,o)=>{const n=getClientRectFromClippingAncestor(e,o,i);return t.top=max(n.top,t.top),t.right=min(n.right,t.right),t.bottom=min(n.bottom,t.bottom),t.left=max(n.left,t.left),t}),getClientRectFromClippingAncestor(e,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function getDimensions(t){const{width:e,height:o}=getCssDimensions(t);return{width:e,height:o}}function getRectRelativeToOffsetParent(t,e,o){const n=isHTMLElement(e),i=getDocumentElement(e),r="fixed"===o,s=getBoundingClientRect(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const l=createCoords(0);if(n||!n&&!r)if(("body"!==getNodeName(e)||isOverflowElement(i))&&(a=getNodeScroll(e)),n){const t=getBoundingClientRect(e,!0,r,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else i&&(l.x=getWindowScrollBarX(i));const c=!i||n||r?createCoords(0):getHTMLOffset(i,a);return{x:s.left+a.scrollLeft-l.x-c.x,y:s.top+a.scrollTop-l.y-c.y,width:s.width,height:s.height}}function isStaticPositioned(t){return"static"===getComputedStyle2(t).position}function getTrueOffsetParent(t,e){if(!isHTMLElement(t)||"fixed"===getComputedStyle2(t).position)return null;if(e)return e(t);let o=t.offsetParent;return getDocumentElement(t)===o&&(o=o.ownerDocument.body),o}function getOffsetParent(t,e){const o=getWindow(t);if(isTopLayer(t))return o;if(!isHTMLElement(t)){let e=getParentNode(t);for(;e&&!isLastTraversableNode(e);){if(isElement(e)&&!isStaticPositioned(e))return e;e=getParentNode(e)}return o}let n=getTrueOffsetParent(t,e);for(;n&&isTableElement(n)&&isStaticPositioned(n);)n=getTrueOffsetParent(n,e);return n&&isLastTraversableNode(n)&&isStaticPositioned(n)&&!isContainingBlock(n)?o:n||getContainingBlock(t)||o}var getElementRects=async function(t){const e=this.getOffsetParent||getOffsetParent,o=this.getDimensions,n=await o(t.floating);return{reference:getRectRelativeToOffsetParent(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function isRTL(t){return"rtl"===getComputedStyle2(t).direction}var platform={convertOffsetParentRelativeRectToViewportRelativeRect:convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement:getDocumentElement,getClippingRect:getClippingRect,getOffsetParent:getOffsetParent,getElementRects:getElementRects,getClientRects:getClientRects,getDimensions:getDimensions,getScale:getScale,isElement:isElement,isRTL:isRTL};function observeMove(t,e){let o,n=null;const i=getDocumentElement(t);function r(){var t;clearTimeout(o),null==(t=n)||t.disconnect(),n=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),r();const{left:c,top:p,width:d,height:u}=t.getBoundingClientRect();if(a||e(),!d||!u)return;const f={rootMargin:-floor(p)+"px "+-floor(i.clientWidth-(c+d))+"px "+-floor(i.clientHeight-(p+u))+"px "+-floor(c)+"px",threshold:max(0,min(1,l))||1};let g=!0;function h(t){const e=t[0].intersectionRatio;if(e!==l){if(!g)return s();e?s(!1,e):o=setTimeout((()=>{s(!1,1e-7)}),1e3)}g=!1}try{n=new IntersectionObserver(h,__spreadProps(__spreadValues({},f),{root:i.ownerDocument}))}catch(t){n=new IntersectionObserver(h,f)}n.observe(t)}(!0),r}function autoUpdate(t,e,o,n){void 0===n&&(n={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=unwrapElement(t),p=i||r?[...c?getOverflowAncestors(c):[],...getOverflowAncestors(e)]:[];p.forEach((t=>{i&&t.addEventListener("scroll",o,{passive:!0}),r&&t.addEventListener("resize",o)}));const d=c&&a?observeMove(c,o):null;let u,f=-1,g=null;s&&(g=new ResizeObserver((t=>{let[n]=t;n&&n.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var t;null==(t=g)||t.observe(e)}))),o()})),c&&!l&&g.observe(c),g.observe(e));let h=l?getBoundingClientRect(t):null;return l&&function e(){const n=getBoundingClientRect(t);!h||n.x===h.x&&n.y===h.y&&n.width===h.width&&n.height===h.height||o();h=n,u=requestAnimationFrame(e)}(),o(),()=>{var t;p.forEach((t=>{i&&t.removeEventListener("scroll",o),r&&t.removeEventListener("resize",o)})),null==d||d(),null==(t=g)||t.disconnect(),g=null,l&&cancelAnimationFrame(u)}}var offset2=offset,shift2=shift,flip2=flip,size2=size,arrow2=arrow,computePosition2=(t,e,o)=>{const n=new Map,i=__spreadValues({platform:platform},o),r=__spreadProps(__spreadValues({},i.platform),{_c:n});return computePosition(t,e,__spreadProps(__spreadValues({},i),{platform:r}))};function e3(t){return i(t)}function r(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}function i(t){for(let e=t;e;e=r(e))if(e instanceof Element&&"none"===getComputedStyle(e).display)return null;for(let e=r(t);e;e=r(e)){if(!(e instanceof Element))continue;const t=getComputedStyle(e);if("contents"!==t.display){if("static"!==t.position||isContainingBlock(t))return e;if("BODY"===e.tagName)return e}}return null}function isVirtualElement(t){return null!==t&&"object"==typeof t&&"getBoundingClientRect"in t&&(!("contextElement"in t)||t instanceof Element)}var SlPopup=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const t=this.anchorEl.getBoundingClientRect(),e=this.popup.getBoundingClientRect();let o=0,n=0,i=0,r=0,s=0,a=0,l=0,c=0;this.placement.includes("top")||this.placement.includes("bottom")?t.top<e.top?(o=t.left,n=t.bottom,i=t.right,r=t.bottom,s=e.left,a=e.top,l=e.right,c=e.top):(o=e.left,n=e.bottom,i=e.right,r=e.bottom,s=t.left,a=t.top,l=t.right,c=t.top):t.left<e.left?(o=t.right,n=t.top,i=e.left,r=e.top,s=t.right,a=t.bottom,l=e.left,c=e.bottom):(o=e.right,n=e.top,i=t.left,r=t.top,s=e.right,a=e.bottom,l=t.left,c=t.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${o}px`),this.style.setProperty("--hover-bridge-top-left-y",`${n}px`),this.style.setProperty("--hover-bridge-top-right-x",`${i}px`),this.style.setProperty("--hover-bridge-top-right-y",`${r}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${s}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${a}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${l}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${c}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(t){super.updated(t),t.has("active")&&(this.active?this.start():this.stop()),t.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&"string"==typeof this.anchor){const t=this.getRootNode();this.anchorEl=t.getElementById(this.anchor)}else this.anchor instanceof Element||isVirtualElement(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.active&&this.start()}start(){this.anchorEl&&this.active&&(this.cleanup=autoUpdate(this.anchorEl,this.popup,(()=>{this.reposition()})))}async stop(){return new Promise((t=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame((()=>t()))):t()}))}reposition(){if(!this.active||!this.anchorEl)return;const t=[offset2({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?t.push(size2({apply:({rects:t})=>{const e="width"===this.sync||"both"===this.sync,o="height"===this.sync||"both"===this.sync;this.popup.style.width=e?`${t.reference.width}px`:"",this.popup.style.height=o?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&t.push(flip2({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:"best-fit"===this.flipFallbackStrategy?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&t.push(shift2({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?t.push(size2({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:e})=>{"vertical"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-height",`${e}px`):this.style.removeProperty("--auto-size-available-height"),"horizontal"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&t.push(arrow2({element:this.arrowEl,padding:this.arrowPadding}));const e="absolute"===this.strategy?t=>platform.getOffsetParent(t,e3):platform.getOffsetParent;computePosition2(this.anchorEl,this.popup,{placement:this.placement,middleware:t,strategy:this.strategy,platform:__spreadProps(__spreadValues({},platform),{getOffsetParent:e})}).then((({x:t,y:e,middlewareData:o,placement:n})=>{const i="rtl"===this.localize.dir(),r={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]];if(this.setAttribute("data-current-placement",n),Object.assign(this.popup.style,{left:`${t}px`,top:`${e}px`}),this.arrow){const t=o.arrow.x,e=o.arrow.y;let n="",s="",a="",l="";if("start"===this.arrowPlacement){const o="number"==typeof t?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";n="number"==typeof e?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",s=i?o:"",l=i?"":o}else if("end"===this.arrowPlacement){const o="number"==typeof t?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";s=i?"":o,l=i?o:"",a="number"==typeof e?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else"center"===this.arrowPlacement?(l="number"==typeof t?"calc(50% - var(--arrow-size-diagonal))":"",n="number"==typeof e?"calc(50% - var(--arrow-size-diagonal))":""):(l="number"==typeof t?`${t}px`:"",n="number"==typeof e?`${e}px`:"");Object.assign(this.arrowEl.style,{top:n,right:s,bottom:a,left:l,[r]:"calc(var(--arrow-size-diagonal) * -1)"})}})),requestAnimationFrame((()=>this.updateHoverBridge())),this.emit("sl-reposition")}render(){return x`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${e({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${e({popup:!0,"popup--active":this.active,"popup--fixed":"fixed"===this.strategy,"popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?x`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};SlPopup.styles=[component_styles_default,popup_styles_default],__decorateClass([e2(".popup")],SlPopup.prototype,"popup",2),__decorateClass([e2(".popup__arrow")],SlPopup.prototype,"arrowEl",2),__decorateClass([n()],SlPopup.prototype,"anchor",2),__decorateClass([n({type:Boolean,reflect:!0})],SlPopup.prototype,"active",2),__decorateClass([n({reflect:!0})],SlPopup.prototype,"placement",2),__decorateClass([n({reflect:!0})],SlPopup.prototype,"strategy",2),__decorateClass([n({type:Number})],SlPopup.prototype,"distance",2),__decorateClass([n({type:Number})],SlPopup.prototype,"skidding",2),__decorateClass([n({type:Boolean})],SlPopup.prototype,"arrow",2),__decorateClass([n({attribute:"arrow-placement"})],SlPopup.prototype,"arrowPlacement",2),__decorateClass([n({attribute:"arrow-padding",type:Number})],SlPopup.prototype,"arrowPadding",2),__decorateClass([n({type:Boolean})],SlPopup.prototype,"flip",2),__decorateClass([n({attribute:"flip-fallback-placements",converter:{fromAttribute:t=>t.split(" ").map((t=>t.trim())).filter((t=>""!==t)),toAttribute:t=>t.join(" ")}})],SlPopup.prototype,"flipFallbackPlacements",2),__decorateClass([n({attribute:"flip-fallback-strategy"})],SlPopup.prototype,"flipFallbackStrategy",2),__decorateClass([n({type:Object})],SlPopup.prototype,"flipBoundary",2),__decorateClass([n({attribute:"flip-padding",type:Number})],SlPopup.prototype,"flipPadding",2),__decorateClass([n({type:Boolean})],SlPopup.prototype,"shift",2),__decorateClass([n({type:Object})],SlPopup.prototype,"shiftBoundary",2),__decorateClass([n({attribute:"shift-padding",type:Number})],SlPopup.prototype,"shiftPadding",2),__decorateClass([n({attribute:"auto-size"})],SlPopup.prototype,"autoSize",2),__decorateClass([n()],SlPopup.prototype,"sync",2),__decorateClass([n({type:Object})],SlPopup.prototype,"autoSizeBoundary",2),__decorateClass([n({attribute:"auto-size-padding",type:Number})],SlPopup.prototype,"autoSizePadding",2),__decorateClass([n({attribute:"hover-bridge",type:Boolean})],SlPopup.prototype,"hoverBridge",2);export{SlPopup};
//# sourceMappingURL=/sm/a1decaad2884ba5cd9032a831fb4a8ae860407d05813df23d9879c647dec2228.map