/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/@shoelace-style/shoelace@2.19.1/cdn/chunks/chunk.WICOVZ6H.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{SlIcon}from"./chunk.43FFMB5A.js";import{watch}from"./chunk.JMZM2TDT.js";import{component_styles_default}from"./chunk.INZSKSLC.js";import{ShoelaceElement,e,n,r}from"./chunk.I3G2R3VD.js";import{animated_image_styles_default}from"./chunk.B3IYGYY2.js";import{x}from"./chunk.OOP2EFQH.js";import{__decorateClass}from"./chunk.W27M6RDR.js";var SlAnimatedImage=class extends ShoelaceElement{constructor(){super(...arguments),this.isLoaded=!1}handleClick(){this.play=!this.play}handleLoad(){const e=document.createElement("canvas"),{width:a,height:t}=this.animatedImage;e.width=a,e.height=t,e.getContext("2d").drawImage(this.animatedImage,0,0,a,t),this.frozenFrame=e.toDataURL("image/gif"),this.isLoaded||(this.emit("sl-load"),this.isLoaded=!0)}handleError(){this.emit("sl-error")}handlePlayChange(){this.play&&(this.animatedImage.src="",this.animatedImage.src=this.src)}handleSrcChange(){this.isLoaded=!1}render(){return x`
      <div class="animated-image">
        <img
          class="animated-image__animated"
          src=${this.src}
          alt=${this.alt}
          crossorigin="anonymous"
          aria-hidden=${this.play?"false":"true"}
          @click=${this.handleClick}
          @load=${this.handleLoad}
          @error=${this.handleError}
        />

        ${this.isLoaded?x`
              <img
                class="animated-image__frozen"
                src=${this.frozenFrame}
                alt=${this.alt}
                aria-hidden=${this.play?"true":"false"}
                @click=${this.handleClick}
              />

              <div part="control-box" class="animated-image__control-box">
                <slot name="play-icon"><sl-icon name="play-fill" library="system"></sl-icon></slot>
                <slot name="pause-icon"><sl-icon name="pause-fill" library="system"></sl-icon></slot>
              </div>
            `:""}
      </div>
    `}};SlAnimatedImage.styles=[component_styles_default,animated_image_styles_default],SlAnimatedImage.dependencies={"sl-icon":SlIcon},__decorateClass([e(".animated-image__animated")],SlAnimatedImage.prototype,"animatedImage",2),__decorateClass([r()],SlAnimatedImage.prototype,"frozenFrame",2),__decorateClass([r()],SlAnimatedImage.prototype,"isLoaded",2),__decorateClass([n()],SlAnimatedImage.prototype,"src",2),__decorateClass([n()],SlAnimatedImage.prototype,"alt",2),__decorateClass([n({type:Boolean,reflect:!0})],SlAnimatedImage.prototype,"play",2),__decorateClass([watch("play",{waitUntilFirstUpdate:!0})],SlAnimatedImage.prototype,"handlePlayChange",1),__decorateClass([watch("src")],SlAnimatedImage.prototype,"handleSrcChange",1);export{SlAnimatedImage};
//# sourceMappingURL=/sm/f18dbb361125166e81d38a1e642d5b1bc12db530b8a00a6001cd6bc898406850.map