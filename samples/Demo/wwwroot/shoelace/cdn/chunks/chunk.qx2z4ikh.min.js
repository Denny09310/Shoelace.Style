/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@shoelace-style/shoelace@2.17.1/cdn/chunks/chunk.QX2Z4IKH.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{o as o2}from"./chunk.EPJHAO2T.js";import{rating_styles_default}from"./chunk.WUT665TF.js";import{o}from"./chunk.FQQ5K3WY.js";import{clamp}from"./chunk.HF7GESMZ.js";import{e}from"./chunk.UZVKBFXH.js";import{SlIcon}from"./chunk.Y7EP3V6G.js";import{watch}from"./chunk.SJGTYGCD.js";import{component_styles_default}from"./chunk.K23QWHWK.js";import{ShoelaceElement,e as e2,n,r,t}from"./chunk.UQRBALDC.js";import{x}from"./chunk.CXZZ2LVK.js";import{__decorateClass}from"./chunk.625AWUY7.js";var SlRating=class extends ShoelaceElement{constructor(){super(...arguments),this.hoverValue=0,this.isHovering=!1,this.label="",this.value=0,this.max=5,this.precision=1,this.readonly=!1,this.disabled=!1,this.getSymbol=()=>'<sl-icon name="star-fill" library="system"></sl-icon>'}getValueFromMousePosition(e){return this.getValueFromXCoordinate(e.clientX)}getValueFromTouchPosition(e){return this.getValueFromXCoordinate(e.touches[0].clientX)}getValueFromXCoordinate(e){const t=this.matches(":dir(rtl)"),{left:i,right:s,width:a}=this.rating.getBoundingClientRect(),o=t?this.roundToPrecision((s-e)/a*this.max,this.precision):this.roundToPrecision((e-i)/a*this.max,this.precision);return clamp(o,0,this.max)}handleClick(e){this.disabled||(this.setValue(this.getValueFromMousePosition(e)),this.emit("sl-change"))}setValue(e){this.disabled||this.readonly||(this.value=e===this.value?0:e,this.isHovering=!1)}handleKeyDown(e){const t=this.matches(":dir(ltr)"),i=this.matches(":dir(rtl)"),s=this.value;if(!this.disabled&&!this.readonly){if("ArrowDown"===e.key||t&&"ArrowLeft"===e.key||i&&"ArrowRight"===e.key){const t=e.shiftKey?1:this.precision;this.value=Math.max(0,this.value-t),e.preventDefault()}if("ArrowUp"===e.key||t&&"ArrowRight"===e.key||i&&"ArrowLeft"===e.key){const t=e.shiftKey?1:this.precision;this.value=Math.min(this.max,this.value+t),e.preventDefault()}"Home"===e.key&&(this.value=0,e.preventDefault()),"End"===e.key&&(this.value=this.max,e.preventDefault()),this.value!==s&&this.emit("sl-change")}}handleMouseEnter(e){this.isHovering=!0,this.hoverValue=this.getValueFromMousePosition(e)}handleMouseMove(e){this.hoverValue=this.getValueFromMousePosition(e)}handleMouseLeave(){this.isHovering=!1}handleTouchStart(e){this.isHovering=!0,this.hoverValue=this.getValueFromTouchPosition(e),e.preventDefault()}handleTouchMove(e){this.hoverValue=this.getValueFromTouchPosition(e)}handleTouchEnd(e){this.isHovering=!1,this.setValue(this.hoverValue),this.emit("sl-change"),e.preventDefault()}roundToPrecision(e,t=.5){const i=1/t;return Math.ceil(e*i)/i}handleHoverValueChange(){this.emit("sl-hover",{detail:{phase:"move",value:this.hoverValue}})}handleIsHoveringChange(){this.emit("sl-hover",{detail:{phase:this.isHovering?"start":"end",value:this.hoverValue}})}focus(e){this.rating.focus(e)}blur(){this.rating.blur()}render(){const t=this.matches(":dir(rtl)"),i=Array.from(Array(this.max).keys());let s=0;return s=this.disabled||this.readonly?this.value:this.isHovering?this.hoverValue:this.value,x`
      <div
        part="base"
        class=${e({rating:!0,"rating--readonly":this.readonly,"rating--disabled":this.disabled,"rating--rtl":t})}
        role="slider"
        aria-label=${this.label}
        aria-disabled=${this.disabled?"true":"false"}
        aria-readonly=${this.readonly?"true":"false"}
        aria-valuenow=${this.value}
        aria-valuemin=${0}
        aria-valuemax=${this.max}
        tabindex=${this.disabled?"-1":"0"}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mouseenter=${this.handleMouseEnter}
        @touchstart=${this.handleTouchStart}
        @mouseleave=${this.handleMouseLeave}
        @touchend=${this.handleTouchEnd}
        @mousemove=${this.handleMouseMove}
        @touchmove=${this.handleTouchMove}
      >
        <span class="rating__symbols">
          ${i.map((i=>s>i&&s<i+1?x`
                <span
                  class=${e({rating__symbol:!0,"rating__partial-symbol-container":!0,"rating__symbol--hover":this.isHovering&&Math.ceil(s)===i+1})}
                  role="presentation"
                >
                  <div
                    style=${o({clipPath:t?`inset(0 ${100*(s-i)}% 0 0)`:`inset(0 0 0 ${100*(s-i)}%)`})}
                  >
                    ${o2(this.getSymbol(i+1))}
                  </div>
                  <div
                    class="rating__partial--filled"
                    style=${o({clipPath:t?`inset(0 0 0 ${100-100*(s-i)}%)`:`inset(0 ${100-100*(s-i)}% 0 0)`})}
                  >
                    ${o2(this.getSymbol(i+1))}
                  </div>
                </span>
              `:x`
              <span
                class=${e({rating__symbol:!0,"rating__symbol--hover":this.isHovering&&Math.ceil(s)===i+1,"rating__symbol--active":s>=i+1})}
                role="presentation"
              >
                ${o2(this.getSymbol(i+1))}
              </span>
            `))}
        </span>
      </div>
    `}};SlRating.styles=[component_styles_default,rating_styles_default],SlRating.dependencies={"sl-icon":SlIcon},__decorateClass([e2(".rating")],SlRating.prototype,"rating",2),__decorateClass([r()],SlRating.prototype,"hoverValue",2),__decorateClass([r()],SlRating.prototype,"isHovering",2),__decorateClass([n()],SlRating.prototype,"label",2),__decorateClass([n({type:Number})],SlRating.prototype,"value",2),__decorateClass([n({type:Number})],SlRating.prototype,"max",2),__decorateClass([n({type:Number})],SlRating.prototype,"precision",2),__decorateClass([n({type:Boolean,reflect:!0})],SlRating.prototype,"readonly",2),__decorateClass([n({type:Boolean,reflect:!0})],SlRating.prototype,"disabled",2),__decorateClass([n()],SlRating.prototype,"getSymbol",2),__decorateClass([t({passive:!0})],SlRating.prototype,"handleTouchMove",1),__decorateClass([watch("hoverValue")],SlRating.prototype,"handleHoverValueChange",1),__decorateClass([watch("isHovering")],SlRating.prototype,"handleIsHoveringChange",1);export{SlRating};
//# sourceMappingURL=/sm/1c2fc5018eacf713baaf7be5a7854878fef7936ad93e2202189b2f964e219b8d.map