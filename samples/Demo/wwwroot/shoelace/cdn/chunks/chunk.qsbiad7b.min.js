/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/@shoelace-style/shoelace@2.19.1/cdn/chunks/chunk.QSBIAD7B.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{SlTooltip}from"./chunk.IS3NLHYU.js";import{copy_button_styles_default}from"./chunk.A43S6NAO.js";import{getAnimation,setDefaultAnimation}from"./chunk.25TVLSB6.js";import{e}from"./chunk.3RBSSBZT.js";import{LocalizeController}from"./chunk.2SU6QBUU.js";import{SlIcon}from"./chunk.43FFMB5A.js";import{component_styles_default}from"./chunk.INZSKSLC.js";import{ShoelaceElement,e as e2,n,r}from"./chunk.I3G2R3VD.js";import{x}from"./chunk.OOP2EFQH.js";import{__decorateClass}from"./chunk.W27M6RDR.js";var SlCopyButton=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.isCopying=!1,this.status="rest",this.value="",this.from="",this.disabled=!1,this.copyLabel="",this.successLabel="",this.errorLabel="",this.feedbackDuration=1e3,this.tooltipPlacement="top",this.hoist=!1}async handleCopy(){if(this.disabled||this.isCopying)return;this.isCopying=!0;let t=this.value;if(this.from){const o=this.getRootNode(),e=this.from.includes("."),s=this.from.includes("[")&&this.from.includes("]");let i=this.from,r="";e?[i,r]=this.from.trim().split("."):s&&([i,r]=this.from.trim().replace(/\]$/,"").split("["));const a="getElementById"in o?o.getElementById(i):null;a?t=s?a.getAttribute(r)||"":e?a[r]||"":a.textContent||"":(this.showStatus("error"),this.emit("sl-error"))}if(t)try{await navigator.clipboard.writeText(t),this.showStatus("success"),this.emit("sl-copy",{detail:{value:t}})}catch(t){this.showStatus("error"),this.emit("sl-error")}else this.showStatus("error"),this.emit("sl-error")}async showStatus(t){const o=this.copyLabel||this.localize.term("copy"),e=this.successLabel||this.localize.term("copied"),s=this.errorLabel||this.localize.term("error"),i="success"===t?this.successIcon:this.errorIcon,r=getAnimation(this,"copy.in",{dir:"ltr"}),a=getAnimation(this,"copy.out",{dir:"ltr"});this.tooltip.content="success"===t?e:s,await this.copyIcon.animate(a.keyframes,a.options).finished,this.copyIcon.hidden=!0,this.status=t,i.hidden=!1,await i.animate(r.keyframes,r.options).finished,setTimeout((async()=>{await i.animate(a.keyframes,a.options).finished,i.hidden=!0,this.status="rest",this.copyIcon.hidden=!1,await this.copyIcon.animate(r.keyframes,r.options).finished,this.tooltip.content=o,this.isCopying=!1}),this.feedbackDuration)}render(){const t=this.copyLabel||this.localize.term("copy");return x`
      <sl-tooltip
        class=${e({"copy-button":!0,"copy-button--success":"success"===this.status,"copy-button--error":"error"===this.status})}
        content=${t}
        placement=${this.tooltipPlacement}
        ?disabled=${this.disabled}
        ?hoist=${this.hoist}
        exportparts="
          base:tooltip__base,
          base__popup:tooltip__base__popup,
          base__arrow:tooltip__base__arrow,
          body:tooltip__body
        "
      >
        <button
          class="copy-button__button"
          part="button"
          type="button"
          ?disabled=${this.disabled}
          @click=${this.handleCopy}
        >
          <slot part="copy-icon" name="copy-icon">
            <sl-icon library="system" name="copy"></sl-icon>
          </slot>
          <slot part="success-icon" name="success-icon" hidden>
            <sl-icon library="system" name="check"></sl-icon>
          </slot>
          <slot part="error-icon" name="error-icon" hidden>
            <sl-icon library="system" name="x-lg"></sl-icon>
          </slot>
        </button>
      </sl-tooltip>
    `}};SlCopyButton.styles=[component_styles_default,copy_button_styles_default],SlCopyButton.dependencies={"sl-icon":SlIcon,"sl-tooltip":SlTooltip},__decorateClass([e2('slot[name="copy-icon"]')],SlCopyButton.prototype,"copyIcon",2),__decorateClass([e2('slot[name="success-icon"]')],SlCopyButton.prototype,"successIcon",2),__decorateClass([e2('slot[name="error-icon"]')],SlCopyButton.prototype,"errorIcon",2),__decorateClass([e2("sl-tooltip")],SlCopyButton.prototype,"tooltip",2),__decorateClass([r()],SlCopyButton.prototype,"isCopying",2),__decorateClass([r()],SlCopyButton.prototype,"status",2),__decorateClass([n()],SlCopyButton.prototype,"value",2),__decorateClass([n()],SlCopyButton.prototype,"from",2),__decorateClass([n({type:Boolean,reflect:!0})],SlCopyButton.prototype,"disabled",2),__decorateClass([n({attribute:"copy-label"})],SlCopyButton.prototype,"copyLabel",2),__decorateClass([n({attribute:"success-label"})],SlCopyButton.prototype,"successLabel",2),__decorateClass([n({attribute:"error-label"})],SlCopyButton.prototype,"errorLabel",2),__decorateClass([n({attribute:"feedback-duration",type:Number})],SlCopyButton.prototype,"feedbackDuration",2),__decorateClass([n({attribute:"tooltip-placement"})],SlCopyButton.prototype,"tooltipPlacement",2),__decorateClass([n({type:Boolean})],SlCopyButton.prototype,"hoist",2),setDefaultAnimation("copy.in",{keyframes:[{scale:".25",opacity:".25"},{scale:"1",opacity:"1"}],options:{duration:100}}),setDefaultAnimation("copy.out",{keyframes:[{scale:"1",opacity:"1"},{scale:".25",opacity:"0"}],options:{duration:100}});export{SlCopyButton};
//# sourceMappingURL=/sm/4f249887cdcadf0feef1bcba1c514488669cf632181159b935f2ce7fe0a2737c.map